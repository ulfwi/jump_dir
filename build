#!/bin/bash
# Build jump_dir binaries


if [ "$1" == "test" ]; then
    # Run tests
    mkdir -p bin/test
    g++ src/jump_dir_core.cpp src/test/test.cpp -Isrc -o bin/test/test_jump_dir
    bin/test/test_jump_dir

    ./src/test/integration_test.sh
else
    g++ src/jump_dir_core.cpp src/main/get_key_list_main.cpp  -Isrc -o bin/get_key_list
    g++ src/jump_dir_core.cpp src/main/get_path_from_key_main.cpp  -Isrc -o bin/get_path_from_key
    g++ src/jump_dir_core.cpp src/main/key_exists_main.cpp  -Isrc -o bin/key_exists
    g++ src/jump_dir_core.cpp src/main/add_key_main.cpp  -Isrc -o bin/add_key
    g++ src/jump_dir_core.cpp src/main/remove_key_main.cpp  -Isrc -o bin/remove_key
    g++ src/jump_dir_core.cpp src/main/is_config_file_valid_main.cpp  -Isrc -o bin/is_config_file_valid
fi
